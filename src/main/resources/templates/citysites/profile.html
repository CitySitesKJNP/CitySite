<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head th:insert="partials/partials.html :: head('Profile')"></head>

<body>
<style>
    .invisible {
        display: none
    }
    #profilePic{
        height: 20px
    }
</style>

    <nav th:insert="partials/partials.html :: navbar"></nav>

    <button onclick="goBack()" class="btn-primary" style="margin: 11px; background: black; color: #f4cdc1; border: none; border-radius: .25rem; position: absolute">Back</button>

<!-- User information appended to the page-->
    <button id="hide">Edit Profile</button>
    <div>
        <div th:if="${user.getProfileImageUrl() != null}"><img id="profilePic" th:src="${user.profileImageUrl}"></a></div>
        <div th:if="${user.getProfileImageUrl() == null}">Set your profile pic below</div>

        <p>Hey <span th:text="${user.name}"></span>, Welcome back!</p>
        <p>Your current username is <span th:text="${user.username}"></span></p>
        <p>The current active email address we have for you is <span th:text="${user.email}"></span></p>
    </div>

<!--hidden edit form for the user to change their profile-->
    <form  class="invisible" th:action="@{/profile}" id="edit" th:method="POST" th:object="${user}">
        <div>
            <label for="username"></label>
            <input  th:field="*{username}" name="username" id="username" type="text"  th:value="${user.username}">
        </div>
        <div>
            <label for="email">Change your email address</label>
            <input th:field="*{email}" name="email" id="email" type="text" th:value="*{email}">
        </div>
        <div>
            <label for="name">Change your name</label>
            <input th:value="*{name}" type="text" id="name" name="name">
        </div>

        <div>
            <label for="image"> Profile Image</label>
            <input th:field="*{profileImageUrl}" name="image" id="image" type="url" placeholder="Enter your image url here">
        </div>
        <button>Submit</button>
    </form>


<!--    details of user input?-->
    <form th:action="@{/user/favorites}" th:method="GET">
        <button>Favorites</button>
    </form>
<!--Working on edit password logic-->

<!--        <div>-->
<!--            <label for="password">Change your password</label>-->
<!--            <input th:field="*{password}" type="text" name="password" id="password" placeholder="Change your password">-->
<!--            <input th:field="*{password}" type="text" name="confirm" id="confirm" placeholder="Confirm Your password">-->
<!--        </div>-->

<nav th:insert="partials/partials.html :: footer"></nav>

    <th:block th:insert="partials/partials.html :: jquery" />
    <th:block th:insert="partials/partials.html :: bootstrap-js" />
    <script>
        $('#hide').click(function(event) {
            event.preventDefault();
            $('#edit').toggleClass('invisible');
        });
    </script>



</body>
</html>