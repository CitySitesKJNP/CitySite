<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security" lang="en">
<head th:insert="partials/partials.html :: head('Showing Reviews')"></head>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="/css/citysites.css">
<link rel="stylesheet" href="/css/view-review-css.css">

<body>

<nav th:insert="partials/partials.html :: navbar"></nav>

<button onclick="goBack()" class="btn-primary"
        style="margin: 11px; background: black; color: #f4cdc1; border: none; border-radius: .25rem; position: absolute">Back
</button>

<div>
    <!--        other user reviews-->
    <h2>Other Reviews:</h2>
    <ul>
        <!--           <li th:each="review : ${reviews}">-->
        <!--               <img th:src="${review.userReview.profileImageUrl}">-->
        <!--               <h4 th:text="${review.userReview.username}"></h4>-->
        <!--               <span th:text="${review.rating}"></span>-->
        <!--               <p th:text="${review.description}"></p>-->
        <!--               <div sec:authorize="isAuthenticated()">-->
        <!--                   <div th:if="${#authentication.principal.id == review.userReview.id}">-->
        <!--                       <form th:action="@{'/review/' + ${review.id} + '/delete/' + ${activity.id}}" th:method="POST">-->
        <!--                           <button>Delete Post</button>-->
        <!--                       </form>-->
        <!--                   </div>-->
        <!--               </div>-->
        <!--           </li>-->
        <!--        </ul>-->
        <!--    </div>-->

        <section class="features-boxed">
            <div class="container">
                <div class="intro">
                    <h2 class="text-center">Reviews</h2>
                </div>
                <div class="row justify-content-center features">
                    <div th:each="review : ${reviews}" class="col-sm-6 col-md-5 col-lg-4 item">
                        <div class="box"><img class="img-fluid" th:src="${review.userReview.profileImageUrl}">
                            <h4 class="name" th:text="${review.userReview.username}"></h4>
                            <h2 th:text="${review.rating}"></h2>
                            <p th:text="${review.description}" class="description"></p>
                            <div sec:authorize="isAuthenticated()">
                                <div th:if="${#authentication.principal.id == review.userReview.id}">
                                    <form th:action="@{'/review/' + ${review.id} + '/delete/' + ${activity.id}}" th:method="POST">
                                        <button>Delete Post</button>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
</div>
</section>

<nav th:insert="partials/partials.html :: footer"></nav>

<th:block th:insert="partials/partials.html :: jquery"/>
<th:block th:insert="partials/partials.html :: bootstrap-js"/>
</body>
</html>